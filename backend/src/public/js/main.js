"use strict";function t(t,e){fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){if(!t.ok)throw new Error("Fetch options error");return t.json()})).then(e).catch((function(t){console.error("Fetch options error:",t)}))}function e(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}let n=[];function o(){document.querySelectorAll("form").forEach((t=>{t.addEventListener("submit",(n=>{n.preventDefault(),t.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach((t=>{const n=e(t.textContent);t.setAttribute("id",n)})),function(t){t.querySelectorAll('input[type="checkbox"]').forEach((t=>{t.checked||(t.value=!1,t.checked=!0)}))}(t),function(t){t.querySelectorAll('input[type="datetime-local"]').forEach((t=>{const e=document.querySelector(`input[data-datetime="${t.id}"]`);e&&(t.value=e.value)}))}(t),t.submit()}))}))}async function r(t){const e=t.target.files;if(0===e.length)return;const n=new FormData;n.append("file",e[0]);const o=t.target.dataset.url;try{const t=await fetch(o,{method:"POST",body:n});if(!t.ok)throw new Error(`HTTP error status: ${t.status}`);console.log("File uploaded with success")}catch(t){console.error("An error occured during uploading file :",t)}}function i(){var e=document.querySelectorAll(".select"),n=document.querySelectorAll(".radio");e.forEach((function(e){t(e.getAttribute("data-url"),(function(t){!function(t,e){t.innerHTML="",Object.keys(e).forEach((function(n){var o=document.createElement("option");o.value=e[n][t.getAttribute("data-id")],o.textContent=e[n][t.getAttribute("data-label")],t.appendChild(o)}));var n=t.getAttribute("data-selected");n&&(t.value=n)}(e,t)}))})),n.forEach((function(e){t(e.getAttribute("data-url"),(function(t){!function(t,e){t.innerHTML="",Object.keys(e).forEach((function(n){var o=function(t,e,n,o){return`\n        <div class="sm:col-span-4">\n            <input id="${t}" name="${t}" value="${e}" ${o==e?"checked":""} type="radio"\n                class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600">\n            <label for="${t}"\n                class="block text-sm font-medium leading-6 text-gray-900">${n}</label>\n        </div>\n    `}(t.getAttribute("data-name"),e[n][t.getAttribute("data-id")],e[n][t.getAttribute("data-label")],t.getAttribute("data-selected"));t.innerHTML+=o}))}(e,t)}))}))}function c(t,e,n,o,r){const i=document.createElement("input");i.id=`${o}-autocomplete-selected`,i.setAttribute("type","checkbox"),i.setAttribute("style","display:none"),i.setAttribute("name",`${n}${e?"[]":null}`),i.setAttribute("value",o),i.setAttribute("checked","checked");const c=document.querySelector(`#${n}Selected`);if(c){const a=document.createElement("span");a.className="\n            remove-from-list\n            inline-flex \n            items-center\n            gap-x-1.5 \n            rounded-md \n            bg-indigo-600 \n            px-3 \n            py-2 \n            text-sm \n            font-semibold \n            text-white \n            shadow-sm \n            hover:bg-indigo-500 \n            focus-visible:outline \n            focus-visible:outline-2 \n            focus-visible:outline-offset-2 \n            focus-visible:outline-indigo-600\n            ",a.textContent=r,a.appendChild(function(){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("width","15"),t.setAttribute("height","15"),t.setAttribute("className","-mr-0.5 h-5 w-5 cursor-pointer");let e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"),t.appendChild(e),t}()),c.appendChild(a),c.appendChild(i),a.addEventListener("click",(function(){c.removeChild(i),c.removeChild(a),t[n]=t[n].filter((t=>t!==o.toString())),l(t,n,e)}))}}function l(t,e,n){const o=document.getElementById(e);t[e].length>=1&&!n?o.disabled=!0:o.disabled=!1}function a(t){const e=t.target.closest("th[data-sort]");if(!e)return;const n=e.dataset.sort,o=e.dataset.order||"none";let r;r="asc"===o?"desc":"desc"===o?"none":"asc",function(t,e){const n=new URLSearchParams(window.location.search),o=[];if(n.has("order")){const r=n.get("order").split(",");let i=!1;r.forEach((n=>{const[r,c]=n.split("_");r===t?(i=!0,"none"!==e&&o.push(`${t}_${e}`)):o.push(n)})),i||"none"===e||o.push(`${t}_${e}`)}else"none"!==e&&o.push(`${t}_${e}`);o.length>0?n.set("order",o.join(",")):n.delete("order");window.history.replaceState({},"",`${window.location.pathname}?${n.toString()}`)}(n,r),"none"!==r&&function(t,e){console.log(`Sorting by ${t} in ${e} order`)}(n,r),e.dataset.order=r}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".checkbox").forEach((function(t){"true"===t.getAttribute("data-checked")&&(t.checked=!0)})),i(),function(){const t=document.querySelectorAll('input[type="file"][data-url]');t&&t.forEach((t=>{t.addEventListener("change",r)}))}(),function(){const e=document.querySelectorAll(".autocomplete");document.querySelectorAll(".autocomplete-selected-items").forEach((function(t){t.innerHTML=""})),e.forEach((e=>{const o=e.getAttribute("id"),r=e.getAttribute("data-multiple");n[o]=[],""!=e.getAttribute("data-values")&&t(`${e.getAttribute("data-url")}?ids=${e.getAttribute("data-values")}`,(function(t){Object.keys(t).forEach((function(e){n[o].push(t[e].id.toString()),c(n,r,o,t[e].id.toString(),t[e].title),l(n,o,r)}))})),e.addEventListener("input",(function(){const e=this.getAttribute("id"),n=document.querySelector(`#${e}List`);n&&(n.innerHTML="",n.style.display="block",this.value.length>=3?(n.style.display="block",t(`${this.getAttribute("data-url")}?title=${this.value}`,(function(t){Object.keys(t).forEach((function(e){const o=document.createElement("li");o.textContent=t[e].title,o.setAttribute("id",t[e].id),o.classList.add("p-2","hover:bg-gray-100","cursor-pointer"),n.appendChild(o)}))}))):n.style.display="none")}))})),document.querySelectorAll(".autocomplete-list").forEach((t=>{t.addEventListener("click",(function(e){const o=e.target.parentElement.getAttribute("data-id");if("li"!==e.target.tagName.toLowerCase())return;t.style.display="none";const r=e.target.getAttribute("id");if(n.includes(r))return;n[o].push(r);const i=e.target.parentElement.getAttribute("data-multiple");c(n,i,o,r,e.target.textContent),l(n,o,i)}))}))}(),function(){const t=Quill.import("blots/block"),n=Quill.import("blots/container"),o=Quill.import("blots/break"),r=Quill.import("blots/text"),i=Quill.import("blots/cursor");class c extends n{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e.setAttribute("class","prism-code ql-code-block-container "),e}}class l extends t{static TAB="  ";static register(){Quill.register(c)}}c.blotName="code-block-container",c.tagName="pre",c.allowedChildren=[l],l.blotName="code-block",l.className="ql-code-block",l.tagName="DIV",l.allowedChildren=[r,o,i],l.requiredContainer=c,Quill.register(l),document.querySelectorAll(".editor").forEach((function(t){var n=t.id,o=document.querySelector(`textarea[data-editor-id="${n}"]`);o.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach((function(t){var n=e(t.textContent);t.id=n}));var r=o?o.value:"",i=new Quill(t,{theme:"snow",modules:{syntax:!0,toolbar:[["bold","italic","underline","strike"],["blockquote","image","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}});""!==r&&(i.root.innerHTML=r),i.on("text-change",(function(t,n,r){i.root.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach((function(t){var n=e(t.textContent);t.id=n})),"user"===r&&(o.value=i.root.innerHTML)}))}))}(),o(),document.querySelectorAll("th[data-sort]").forEach((t=>{t.addEventListener("click",a)}))}));
